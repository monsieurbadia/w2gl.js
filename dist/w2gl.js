(function () {function b(a){return a&&a.__esModule?{d:a.default}:{d:a}}var e={};function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function Ga(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach(function(r){var $IxO8$$interop$default=b(f);$IxO8$$interop$default.d(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var f={};function Ca(e,r,$){return r in e?Object.defineProperty(e,r,{value:$,enumerable:!0,configurable:!0,writable:!0}):e[r]=$,e}f=Ca;var c={};function ya(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}c=ya;var va=function e(){var $fcMS$$interop$default=b(c);$fcMS$$interop$default.d(this,e),this.run={webgl:function(){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r=null,l=!1;try{null==(r=e.getContext("experimental-webgl"))&&(r=e.getContext("webgl")),l=!0}catch(t){r=null,l=!1,console.warn(t)}return e=null,null!==r&&l}}};var a={};function C(e,r){for(var $=0;$<r.length;$++){var a=r[$];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ua(e,r,$){return r&&C(e.prototype,r),$&&C(e,$),e}a=ua;var ta=function(){function e(){var $fcMS$$interop$default=b(c);$fcMS$$interop$default.d(this,e)}var $P8NW$$interop$default=b(a);return $P8NW$$interop$default.d(e,[{key:"onmousemove",value:function(e){e&&d.DEFAULT.mousemoveList.push(e),window.addEventListener("mousemove",this.mousemove,!1)}},{key:"onresize",value:function(e){e&&d.DEFAULT.resizeList.push(e),window.addEventListener("resize",this.resize,!1)}},{key:"mousemove",value:function(e){d.DEFAULT.mousemoveList.forEach(function(r){return r(e)})}},{key:"resize",value:function(e){d.DEFAULT.resizeList.forEach(function(r){return r(e)})}},{key:"clear",value:function(){window.addEventListener("mousemove",this.mousemove,!1),window.addEventListener("resize",this.resize,!1)}}]),e}();var qa=function(){function e(){var $fcMS$$interop$default=b(c);$fcMS$$interop$default.d(this,e),this.x=0,this.y=0,this.mousemove=this.mousemove.bind(this)}var $P8NW$$interop$default=b(a);return $P8NW$$interop$default.d(e,[{key:"mousemove",value:function(e){var s=e.clientX,t=e.clientY,r=e.pageX,i=e.pageY,$=s||r,a=t||i;this.set($,a)}},{key:"set",value:function(e,s){this.x=e,this.y=s}}]),e}();var na=function(){function e(){var $fcMS$$interop$default=b(c);$fcMS$$interop$default.d(this,e),this.width=window.innerWidth,this.height=window.innerHeight,this.resize=this.resize.bind(this)}var $P8NW$$interop$default=b(a);return $P8NW$$interop$default.d(e,[{key:"resize",value:function(e){this.width=e.target.innerWidth,this.height=e.target.innerHeight}}]),e}();function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function ma(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach(function(r){var $IxO8$$interop$default=b(f);$IxO8$$interop$default.d(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var i={};function ka(r,a){(null==a||a>r.length)&&(a=r.length);for(var $=0,e=new Array(a);$<a;$++)e[$]=r[$];return e}i=ka;var ia={};function ha(r){if(Array.isArray(r))return i(r)}ia=ha;var aa={};function _(r){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r))return Array.from(r)}aa=_;var $={};function Z(r,a){if(r){if("string"==typeof r)return i(r,a);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(r,a):void 0}}$=Z;var U={};function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}U=T;var g={};function R(r){return ia(r)||aa(r)||$(r)||U()}g=R;var D=function e(r,t){var $fcMS$$interop$default=b(c);if($fcMS$$interop$default.d(this,e),t){var a={},n=void 0!==t.uniforms?Object.assign(d.SHADER.UNIFORMS,t.uniforms):d.SHADER.UNIFORMS;return a.uniforms=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,a){var n=e[a];var $IxO8$$interop$default=b(f);return ma({},t,$IxO8$$interop$default.d({},a,d.MATH.TYPES.includes(n.type)?function(e){var t,a=e.type,n=e.value,$=d.MATH.PRIMITIVES[a];var $Fhqp$$interop$default=b(g);e.value=new r[$],n.length>0&&(t=e.value).set.apply(t,$Fhqp$$interop$default.d(n));return e}(n):n))},{})}(n),a.vertexShader=t.vertex,a.fragmentShader=t.fragment,function(e){Object.keys(d.SHADER.CORE).forEach(function(r){var t=d.SHADER.CORE[r];switch(t.type){case"vertex":e.vertexShader=e.vertexShader.replace(t.name,t.template);break;case"fragment":e.fragmentShader=e.fragmentShader.replace(t.name,t.template);break;default:return;}})}(a),a}};var F=function(){function e(){var $fcMS$$interop$default=b(c);$fcMS$$interop$default.d(this,e),this.speed=.05,this.time=0}var $P8NW$$interop$default=b(a);return $P8NW$$interop$default.d(e,[{key:"render",value:function(){this.time+=this.speed}}]),e}();var ga=Object.freeze({BROWSER:1,EVENT:2,MOUSE:3,SCREEN:4,SHADER:5,properties:{1:new va,2:new ta,3:new qa,4:new na,5:new D}});var G=Object.freeze({mousemoveList:[],renderList:[],resizeList:[]});var H=Object.freeze({v2:"Vector2",v3:"Vector3",v4:"Vector4"}),I=Object.freeze(["v2","v3","v4"]),J=Object.freeze({PRIMITIVES:H,TYPES:I});var K={};K="vec3 BLACK = vec3(0.000, 0.000, 0.000);\nvec3 DARKBLUE = vec3(0.000, 0.000, 0.545);\nvec3 BLUE = vec3(0.000, 0.000, 1.000);\nvec3 GRAY = vec3(0.502, 0.502, 0.502);\nvec3 GREEN = vec3(0.000, 0.502, 0.000);\nvec3 PINK = vec3(1.000, 0.753, 0.796);\nvec3 RED = vec3(1.000, 0.000, 0.000);\nvec3 WHITE = vec3(1.000, 1.000, 1.000);\nvec3 YELLOW = vec3(1.000, 1.000, 0.000);\n";var L={};L="";var M={};M="float box (vec3 pos, vec3 size) {\n  return length(max(abs(pos) - size, 0.0));\n}\n\nfloat roundedBox(vec3 pos, vec3 size, float radius) {\n  return length(max(abs(pos) - size, 0.0)) - radius;\n}\n\nfloat plane (vec3 pos) {\n  return pos.y;\n}\n\nfloat sphere (vec3 pos, float radius) {\n  return length(pos) * 2.0 - radius;\n}\n\nfloat intersectPlane(vec3 pos, vec3 dir) {\n  return -pos.y / dir.y;\n}\n\nvec2 repeat(inout vec2 pos, vec2 period) {\n\n  vec2 off = pos + period * 0.5;\n  vec2 idx = floor(off / period);\n  pos = mod(off, period) - period * 0.5;\n    \n  return idx;\n\n}\n\n// LIGHT\n\nvec3 sunDirection = normalize(vec3(0.0, 0.0, 0.0));\n\nfloat diffuse(vec3 normal) {\n  \n  return clamp(dot(normal, sunDirection), 0.0, 1.0);\n\n}\n\nfloat specular(vec3 normal, vec3 dir) {\n  \n  vec3 h = normalize(sunDirection - dir);\n\n  return pow(clamp(dot(h, normal), 0.0, 1.0), 8.0);\n\n}\n\n// TRANSLATE\n\nvec2 rotate (vec2 v, float angle) {\n\n  float c = cos(angle);\n  float s = sin(angle);\n\n  return mat2(c, s, -s, c) * v;\n\n}\n";var N=b(K);var O=b(L);var P=b(M);var Q=Object.freeze({CORE:{color:{name:"#include <core_color>",template:N.d,type:"fragment"},vertex:{name:"#include <core_vertex>",template:O.d,type:"vertex"},fragment:{name:"#include <core_fragment>",template:P.d,type:"fragment"}},UNIFORMS:{mouse:{type:"v2",value:[]},resolution:{type:"v2",value:[window.innerWidth,window.innerHeight]},time:{type:"f",value:1}}});var d={CORE:ga,DEFAULT:G,MATH:J,SHADER:Q};function S(n){return function(){var $UJE0$$interop$default=b(y);var t,e=$UJE0$$interop$default.d(n);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}()){var r=$UJE0$$interop$default.d(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);var $pxk2$$interop$default=b(X);return $pxk2$$interop$default.d(this,t)}}var B={};function z(o){return B=z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},z(o)}B=z;var V={};function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}V=W;var X={};function Y(r,e){return!e||"object"!==B(e)&&"function"!=typeof e?V(r):e}X=Y;var y={};function r(t){return y=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}y=r;var j={};function w(t,r){return j=w=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},w(t,r)}j=w;var ba={};function ca(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&j(e,r)}ba=ca;var da={};function ea(n){return-1!==Function.toString.call(n).indexOf("[native code]")}da=ea;var fa={};function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}fa=E;var v={};function u(t,r,$){return v=u=fa()?Reflect.construct:function(t,r,$){var e=[null];e.push.apply(e,r);var c=new(Function.bind.apply(t,e));return $&&j(c,$.prototype),c},u.apply(null,arguments)}v=u;var ja={};function t(r){var e="function"==typeof Map?new Map:void 0;return ja=t=function(r){if(null===r||!da(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(r))return e.get(r);e.set(r,t)}function t(){return v(r,arguments,y(this).constructor)}return t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),j(t,r)},t(r)}ja=t;var la=b(ja);var q=function(n){var $d4H2$$interop$default=b(ba);$d4H2$$interop$default.d(e,n);var t=S(e);function e(){var n;var $fcMS$$interop$default=b(c);return $fcMS$$interop$default.d(this,e),(n=t.call(this)).attachShadow({mode:"open"}),n.state={button:{toggle:{darkmode:null},filter:{all:null,error:null,warning:null}},counter:{element:null,value:0},darkmode:{value:!1},logs:[],reports:{element:null},section:{element:null},show:{value:!1},template:document.createElement("template")},n}var $P8NW$$interop$default=b(a);return $P8NW$$interop$default.d(e,[{key:"attributeChangedCallback",value:function(n,t,e){t!==e&&(this.state.section.element.className=JSON.parse(this.darkmode)?"glsl-reports darkmode":"glsl-reports",this.state.section.element.style.display=JSON.parse(this.show)?"block":"none")}},{key:"connectedCallback",value:function(){this.ready()}},{key:"darkmode",get:function(){return this.state.darkmode.value},set:function(n){this.state.darkmode.value=n,this.setAttribute("darkmode",n)}},{key:"show",get:function(){return this.state.show.value},set:function(n){this.state.show.value=n,this.setAttribute("show",n)}}],[{key:"observedAttributes",get:function(){return["darkmode","show"]}}]),$P8NW$$interop$default.d(e,[{key:"init",value:function(){this.apply(),document.body.appendChild(this)}},{key:"ready",value:function(){this.state.template.innerHTML="\n      <style>\n\n        .glsl-reports {\n          left: 0;\n          top: 0;\n          right: 0;\n          bottom: 0;\n          margin: 0;\n          display: none;\n          padding: 60px 0 30px 0;\n          width: 100%;\n          height: 100%;\n          position: fixed;\n          background: hsl(206, 37%, 96%);\n          font-size: 12px;\n          white-space: normal;\n          overflow-y: auto;\n          transition: background 300ms ease;\n        }\n\n        .darkmode {\n          background: hsl(210, 24%, 15%);\n        }\n          \n        .glsl-reports__header {\n          top: 0;\n          left: 0;\n          right: 0;\n          z-index: 1;\n          width: 100%;\n          height: 60px;\n          display: flex;\n          position: fixed;\n          align-items: center;\n          border-top: 4px solid hsl(196, 96%, 72%);\n          background: hsl(210, 24%, 10%);\n          color: hsl(21, 23%, 88%);\n          font-size: 12px;\n          font-weight: 800;\n          letter-spacing: 0.1rem;\n          transition:\n            border-top 300ms ease,\n            color 300ms ease;\n        }\n\n        .darkmode .glsl-reports__header {\n          color: hsl(210, 24%, 75%);\n          border-top: 4px solid hsl(185, 76%, 64%);\n        }\n\n        .glsl-reports__header__column {\n          display: flex;\n          align-items: center;\n        }\n\n        .glsl-reports__header__column:nth-child(1) {\n          margin-right: auto;\n        }\n\n\n        .glsl-reports__header__column:nth-child(2) {\n          margin-left: auto;\n        }\n\n        .glsl-reports__header__title {\n          margin-left: 30px;\n          color: hsl(196, 96%, 72%);\n        }\n\n        .darkmode .glsl-reports__header__title {\n          color: hsl(185, 76%, 64%);\n        }\n\n        .glsl-reports__header__counter {\n          margin: 0 0 0 20px;\n          border-radius: 50%;\n          width: 25px;\n          height: 25px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background: hsl(196, 96%, 72%);\n          color: hsla(196, 96%, 24%, 1);\n          font-size: 10px;\n          letter-spacing: 0;\n          transition:\n            background 300ms ease,\n            color 300ms ease;\n        }\n\n        .darkmode .glsl-reports__header__counter {\n          background: hsl(185, 76%, 64%);\n          color: hsl(185, 76%, 24%);\n        }\n\n        .glsl-reports__filter {\n          padding: 0;\n          margin-left: auto;\n          margin-right: 30px;\n          display: flex;\n          list-style: none;\n        }\n\n        .glsl-reports__filter__item__button {\n          border: 0;\n          border-radius: 0.2rem;\n          background: transparent;\n          font-size: 0.65rem;\n          white-space: nowrap;\n          text-decoration: none;\n          padding: 0.25rem 0.5rem;\n          margin: 0.25rem 0.05rem;\n          cursor: pointer;\n          color: hsl(0, 0%, 100%);\n          text-transform: uppercase;\n          transition:\n            border 300ms ease,\n            color 300ms ease;\n        }\n\n        .glsl-reports__filter__item__button:active,\n        .glsl-reports__filter__item__button:hover,\n        .glsl-reports__filter__item__button:focus {\n          outline: none;\n          color: hsl(196, 96%, 72%);\n        }\n\n        .glsl-reports__filter__item__button--all:hover {\n          color: hsl(196, 96%, 72%);\n        }\n\n        .glsl-reports__filter__item__button--error:hover {\n          color: hsl(5, 98%, 60%);\n        }\n\n        .glsl-reports__filter__item__button--warning:hover {\n          color: hsl(48, 89%, 50%);\n        }\n\n        .glsl-reports__item__button--darkmode {\n          margin-left: 10px;\n          margin-right: 30px;\n        }\n\n        .glsl-reports__main {\n          margin: 80px auto;\n          max-width: 800px;\n          min-width: 720px;\n          overflow: hidden;\n          border-radius: 10px;\n          box-shadow: 0 4px 6px hsla(0, 0%, 0%, 0.2);\n          background: hsl(0, 0%, 100%);\n          transition: background 300ms ease;\n        }\n\n        .darkmode .glsl-reports__main {\n          background: hsl(209, 28%, 17%);\n        }\n\n        .glsl-reports__logs {\n          margin: 0;\n          padding: 0;\n          max-width: 800px;\n          min-width: 720px;\n          list-style-type: none;\n          position: relative;\n        }\n\n        .glsl-reports__logs__item__wrapper {\n          height: 100%;\n          min-height: 80px;\n          margin: 0 30px;\n          display: flex;\n          align-items: center;\n          flex-direction: row;\n          justify-content: flex-start;\n          position: relative;\n          border-bottom: 1px solid hsl(206, 37%, 96%);\n          letter-spacing: -0.05em;\n          color: hsl(219, 86%, 28%);\n          transition:\n            border-bottom 300ms ease,\n            color 300ms ease;\n        }\n\n        .darkmode .glsl-reports__logs__item__wrapper {\n          border-bottom: 1px solid hsl(210, 24%, 15%);\n          color: hsl(21, 23%, 88%);\n        }\n\n        .glsl-reports__logs__item:last-child .glsl-reports__logs__item__wrapper {\n          border-bottom: none;\n        }\n\n        .darkmode .glsl-reports__logs__item:last-child .glsl-reports__logs__item__wrapper {\n          border-bottom: none;\n        }\n\n        .glsl-reports__logs__item__column {\n          margin-right: 40px\n        }\n\n        .glsl-reports__logs__item__column:nth-child(2) {\n          width: 80px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .glsl-reports__logs__item__column span {\n          margin-bottom: 5px;\n        }\n\n        .glsl-reports__logs__item__column span:last-child {\n          margin-bottom: 0;\n        }\n\n        .glsl-reports__logs__item__column:nth-child( 3 ) span {\n          display: block;\n        }\n\n        .glsl-reports__logs__item__message {\n          font-style: italic;\n        }\n\n        .glsl-reports__logs__item__id {\n          width: 25px;\n          height: 25px;\n          font-weight: 700;\n          display: flex;\n          border-radius: 50%;\n          align-items: center;\n          justify-content: center;\n          border: 1px solid hsl(219, 86%, 28%);\n          color: hsl(219, 86%, 28%);\n          font-size: 10px;\n          letter-spacing: 0;\n          transition:\n            border 300ms ease,\n            color 300ms ease;\n        }\n\n        .darkmode .glsl-reports__logs__item__id {\n          color: hsl(21, 23%, 88%);\n          border: 1px solid hsl(21, 23%, 88%);\n        }\n\n        .glsl-reports__logs__item__wrapper--code {\n          margin-top: 10px;\n          display: block;\n          letter-spacing: -0.05em;\n        }\n\n        .glsl-reports__logs__item__type {\n          padding: 2px 15px;\n          border-radius: 10px;\n          letter-spacing: -0.05em;\n        }\n    \n        .glsl-reports__logs__item__type--error {\n          background: hsl(5, 98%, 60%);\n          color: hsl(5, 98%, 30%);\n        }\n    \n        .glsl-reports__logs__item__type--warning {\n          background: hsl(48, 89%, 50%);\n          color: hsl(48, 89%, 25%);\n        }\n\n        .switch {\n          margin-right: 30px;\n          width: 50px;\n          height: 30px;\n          display: block;\n          position: relative;\n        }\n        \n        .slider {\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          width: 100%;\n          height: 100%;\n          display: grid;\n          cursor: pointer;\n          align-items: center;\n          position: absolute;\n          background: hsl(210, 24%, 10%);\n          -webkit-transition: 400ms;\n          transition: 400ms;\n        }\n        \n        .slider:before {\n          content: \"\";\n          z-index: 2;\n          width: 15px;\n          height: 15px;\n          position: absolute;\n          background: hsl(196, 96%, 72%);\n          -webkit-transition:\n            background 400ms ease,\n            transform 400ms ease;\n          transition:\n            background 400ms ease,\n            transform 400ms ease;\n          transform: translate3d(0, 0, 0);\n        }\n        \n        .slider:after {\n          content: \"\";\n          left: 2px;\n          right: 0;\n          z-index: 1;\n          width: 35px;\n          height: 5px;\n          position: absolute;\n          border-radius: 34px;\n          background: hsl(206, 37%, 96%);\n          transition: background 400ms ease;\n        }\n        \n        input:checked + .slider:before {\n          background: hsl(185, 76%, 64%);\n          -webkit-transform: translate3d(25px, 0, 0);\n          transform: translate3d(25px, 0, 0);\n        }\n        \n        input:checked + .slider:after {\n          background: hsl(210, 24%, 15%);\n        }\n        \n        .slider.round:before {\n          border-radius: 50%;\n        }\n\n      </style>\n\n      <section id=\"GLSLReports\" class=\"glsl-reports\">\n        <header class=\"glsl-reports__header\">\n          <div class=\"glsl-reports__header__column\">\n            <h3 class=\"glsl-reports__header__title\">GLSL Reports</h3>\n            <span id=\"GLSLReportsLogsCounter\" class=\"glsl-reports__header__counter\"></span>\n          </div>\n          <div class=\"glsl-reports__header__column\">\n            <ul class=\"glsl-reports__filter\">\n              <li class=\"glsl-reports__filter__item\">\n                <button\n                  id=\"GLSLReportsButtonAll\"\n                  class=\"glsl-reports__filter__item__button glsl-reports__filter__item__button--all\"\n                  type=\"button\"\n                  value=\"all\">\n                  all\n                </button>\n              </li>\n              <li class=\"glsl-reports__filter__item\">\n                <button\n                  id=\"GLSLReportsButtonError\"\n                  class=\"glsl-reports__filter__item__button glsl-reports__filter__item__button--error\"\n                  type=\"button\"\n                  value=\"error\">\n                  error\n                </button>\n              </li>\n              <li class=\"glsl-reports__filter__item\">\n                <button\n                  id=\"GLSLReportsButtonWarning\"\n                  class=\"glsl-reports__filter__item__button glsl-reports__filter__item__button--warning\"\n                  type=\"button\"\n                  value=\"warning\">\n                  warning\n                </button>\n              </li>\n            </ul>\n            <label class=\"switch\">\n              <input id=\"GLSLReportsButtonToggleDarkMode\" type=\"checkbox\">\n              <span class=\"slider round\"></span>\n            </label>\n          </div>\n        </header>\n        <main class=\"glsl-reports__main\">\n          <ul id=\"GLSLReportsLogs\" class=\"glsl-reports__logs\"></ul>\n        </main>\n      </section>\n    ",this.shadowRoot.appendChild(document.importNode(this.state.template.content,!0)),this.state.section.element=this.shadowRoot.getElementById("GLSLReports"),this.state.reports.element=this.shadowRoot.getElementById("GLSLReportsLogs"),this.state.counter.element=this.shadowRoot.getElementById("GLSLReportsLogsCounter"),this.state.button.filter.all=this.shadowRoot.getElementById("GLSLReportsButtonAll"),this.state.button.filter.error=this.shadowRoot.getElementById("GLSLReportsButtonError"),this.state.button.filter.warning=this.shadowRoot.getElementById("GLSLReportsButtonWarning"),this.state.button.toggle.darkmode=this.shadowRoot.getElementById("GLSLReportsButtonToggleDarkMode"),this.state.button.filter.all.onclick=this.onclick.bind(this),this.state.button.filter.error.onclick=this.onclick.bind(this),this.state.button.filter.warning.onclick=this.onclick.bind(this),this.state.button.toggle.darkmode.onclick=this.ontoggle.bind(this),this.setAttribute("darkmode",this.state.darkmode.value),this.setAttribute("show",this.state.show.value)}},{key:"onclick",value:function(n){var t;switch(n.target.value){case"error":t=this.state.logs.filter(function(n){return"ERROR"===n.type});break;case"warning":t=this.state.logs.filter(function(n){return"WARNING"===n.type});break;default:t=this.state.logs;}this.state.counter.value=0,this.state.reports.element.innerHTML="",this.templating(t,!0)}},{key:"ontoggle",value:function(n){this.darkmode=n.target.checked}},{key:"apply",value:function(){var n,t,e=this;WebGLRenderingContext.prototype.compileShader=(n=WebGLRenderingContext.prototype.compileShader,t=function(n){if(!1===this.getShaderParameter(n,this.COMPILE_STATUS)){var t=this.getShaderInfoLog(n),r=this.getShaderSource(n);e.compileErrors(t,r),e.show=!0}},function(){var e=n.apply(this,arguments);return t.apply(this,arguments),e})}},{key:"compileErrors",value:function(n,t){var e=n.split("\n"),r=t.split("\n"),s=e.reduce(function(n,t){var e=t.match(/(ERROR|WARNING): (\d+):(\d+): (.*)/);if(e){var s={type:e[1],status:e[2],line:parseInt(e[3],10)-1,message:e[4],source:r};var $Fhqp$$interop$default=b(g);return[].concat($Fhqp$$interop$default.d(n),[s])}var $Fhqp$$interop$default=b(g);return $Fhqp$$interop$default.d(n)},[]);this.templating(s)}},{key:"templating",value:function(n){var t,e=this;var $Fhqp$$interop$default=b(g);arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(t=this.state.logs).push.apply(t,$Fhqp$$interop$default.d(n)),this.state.counter.value+=n.length,this.state.counter.element.innerHTML=this.state.counter.value,n.forEach(function(n){return e.state.reports.element.innerHTML+="\n\n        <li class=\"glsl-reports__logs__item\">\n          <div class=\"glsl-reports__logs__item__wrapper\">\n            <div class=\"glsl-reports__logs__item__column\">\n              <span class=\"glsl-reports__logs__item__id\"></span>\n            </div>\n            <div class=\"glsl-reports__logs__item__column\">\n              <span class=\"glsl-reports__logs__item__type glsl-reports__logs__item__type--".concat("ERROR"===n.type?"error":"warning","\">\n                ").concat(n.type,"\n              </span>\n            </div>\n            <div class=\"glsl-reports__logs__item__column\">\n              <span class=\"glsl-reports__logs__item__message\">\"<b> ").concat(n.message," </b>\" in line ").concat(n.line,"</span>\n              <span class=\"glsl-reports__logs__item__code\">").concat(n.source[n.line],"</span>\n            </div>\n          </div>\n        </li>\n\n      ")});for(var r=this.state.reports.element.children,s=0,o=1;s<r.length;s++,o++){r[s].querySelector(".glsl-reports__logs__item__id").innerHTML=o}}}]),e}(la.d(HTMLElement));window.customElements.define("glsl-reports",q);function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);r&&(p=p.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,p)}return t}function oa(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach(function(r){var $IxO8$$interop$default=b(f);$IxO8$$interop$default.d(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var pa=function(e){return Object.keys(e).forEach(function(r){var t=e[r];var $b9XL$$interop$default=b(B);e[r]=e.hasOwnProperty(r)&&"object"===$b9XL$$interop$default.d(t)?pa(t):t}),Object.freeze(e)};var k=function(t){return void 0===t||0===Object.keys(t).length};var ra=function(r,e){return e(r)},sa=function(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];return function(r){return[].concat(e).reduce(ra,r||{})}};function m(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?m(Object(t),!0).forEach(function(r){var $IxO8$$interop$default=b(f);$IxO8$$interop$default.d(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var h=function(e,r){return Object.keys(e).reduce(function(t,o){var $IxO8$$interop$default=b(f);return l({},t,$IxO8$$interop$default.d({},o,r(l({},e[o]))))},{})};var wa=function e(r,t){var $fcMS$$interop$default=b(c);$fcMS$$interop$default.d(this,e);var p=new r.Camera;return Object.assign(p,{init:function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var $Fhqp$$interop$default=b(g);r.length>0&&(e=p.position).set.apply(e,$Fhqp$$interop$default.d(r))}}),p};var xa=function(e){var r=k(e.camera)?{default:{size:[window.innerWidth,window.innerHeight],type:"perspective"}}:e.camera;return oa({},e,{camera:h(r,function(r){return new wa(e.THREE,r)})})};function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function za(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach(function(r){var $IxO8$$interop$default=b(f);$IxO8$$interop$default.d(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var Aa=function e(r,t){var $fcMS$$interop$default=b(c);$fcMS$$interop$default.d(this,e);var $dJhE$$interop$default=b(v);var $Fhqp$$interop$default=b(g);var o=new D(r,t.shader),$=$dJhE$$interop$default.d(r.PlaneBufferGeometry,$Fhqp$$interop$default.d(t.geometry.option)),s=new r.ShaderMaterial(o),n=new r.Mesh($,s);return Object.assign(n,{onmousemove:function(e){d.DEFAULT.mousemoveList.push(e)},onresize:function(e){d.DEFAULT.resizeList.push(e)},onrender:function(e){d.DEFAULT.renderList.push(e)}})};var Ba=function(e){var r;return e.shader?r=Object.assign({},{default:{geometry:{buffer:!0,option:[2,2],specific:"plane"},material:{option:{},specific:"normal"},shader:e.shader}}):e.mesh&&e.mesh.shader&&(r=e.mesh),za({},e,{mesh:h(r,function(r){return new Aa(e.THREE,r)})})};function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function Da(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach(function(r){var $IxO8$$interop$default=b(f);$IxO8$$interop$default.d(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var Ea=function e(r,t){var $fcMS$$interop$default=b(c);$fcMS$$interop$default.d(this,e);var n=new r.WebGLRenderer({antialias:!0}),o=new F;function i(e){window.document.body.appendChild(e)}function $(e){var $Fhqp$$interop$default=b(g);n.setClearColor(0),n.setPixelRatio(window.devicePixelRatio),n.setSize.apply(n,$Fhqp$$interop$default.d(e.option.size).concat([!0]))}function a(e){d.DEFAULT.resizeList.push(e)}return $(t),i(n.domElement),n.onresize=a.bind(n),Object.assign(n,{add:i,init:function(e,r){n.current={camera:r,scene:e},n.setTimerAnimationLoop()},create:$,onresize:a,setTimerAnimationLoop:function(e){n.setAnimationLoop(null!==e?function(r){o.render(),d.DEFAULT.renderList.forEach(function(e){return e(o)}),e&&e(o),n.render(n.current.scene,n.current.camera)}:null)}})};var Fa=function(e){var r=k(e.renderer)?{default:{option:{antialias:!0,pixelRatio:window.devicePixelRatio,size:[window.innerWidth,window.innerHeight]}}}:e.renderer;return Da({},e,{renderer:h(r,function(r){return new Ea(e.THREE,r)})})};function A(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function Ha(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?A(Object(t),!0).forEach(function(r){var $IxO8$$interop$default=b(f);$IxO8$$interop$default.d(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var Ia=function e(r,t){var $fcMS$$interop$default=b(c);$fcMS$$interop$default.d(this,e);var n=new r.Scene;return Object.assign(n,{addMeshes:function(e){e.forEach(function(e){return n.add(e)})},init:function(e){n.addMeshes(e)}})};var Ja=function(e){var r=k(e.scene)?{default:{}}:e.scene;return Ha({},e,{scene:h(r,function(r){return new Ia(e.THREE,r)})})};var Ka={init:function(e,r){var t=d.CORE.BROWSER,o=d.CORE.EVENT,$=d.CORE.MOUSE,c=d.CORE.SCREEN,m=Ga({},{THREE:e.THREE,browser:d.CORE.properties[t],event:d.CORE.properties[o],mouse:d.CORE.properties[$],screen:d.CORE.properties[c]},{},e),i=[Ja,xa,Fa,Ba],p=sa.apply(void 0,i)(m);if(!e.scene){var a=new q;p.scene.default.init([p.mesh.default]),p.camera.default.init([0,0,-1]),p.renderer.default.init(p.scene.default,p.camera.default),a.init()}if(p.browser.run.webgl())return void 0===r?p:r(p)}};e.default=Ka;if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e}else if(typeof define==="function"&&define.amd){define(function(){return e})}else{this["w2gl"]=e}})();